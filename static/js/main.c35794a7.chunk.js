(this["webpackJsonpjoke-bot"]=this["webpackJsonpjoke-bot"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var s=n(1),o=n.n(s),r=n(8),a=n.n(r),c=(n(14),n(0));var i=function(e){var t=e.joke,n=e.className;return Object(c.jsx)("p",{className:n,children:t})},u=n(2),j=n(6),l=n(5),b=n.p+"static/media/robot.a4372432.svg",g=o.a.createContext({});function f(e){var t=e.children,n=Object(s.useState)({lang:"en",category:"Any"}),o=Object(u.a)(n,2),r=o[0],a=o[1],i=Object(s.useState)(b),j=Object(u.a)(i,2),l=j[0],f=j[1];return Object(c.jsx)(g.Provider,{value:{setting:r,setSetting:a,imgUrl:l,setImgUrl:f},children:t})}var d=g,_={lang:{en:"English",de:"German",es:"Spanish",fr:"French",pt:"Portuguese"},category:{Any:"Any",Programming:"Programming",Christmas:"Christmas",Dark:"Dark",Misc:"Misc",Pun:"Pun",Spooky:"Spooky"}};var h=function(e){var t=e.className,n=Object(s.useContext)(d),o=n.setting,r=n.setSetting,a=function(e){r(Object(l.a)(Object(l.a)({},o),{},Object(j.a)({},e.target.name,e.target.value)))};return Object(c.jsx)("form",{className:t,children:Object.keys(_).map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:Object(c.jsx)("label",{htmlFor:e,children:e})}),Object(c.jsx)("div",{children:Object(c.jsx)("select",{name:e,defaultValue:Object.keys(_[e])[0],onChange:a,children:Object.values(_[e]).map((function(t,n){return Object(c.jsx)("option",{value:Object.keys(_[e])[n],children:t},"opt_"+t)}))})})]},"div_"+e)}))})},p=n.p+"static/media/settings.46a87e86.png",O=n(3),m=n.n(O);var k=function(){var e=Object(s.useState)(!1),t=Object(u.a)(e,2),n=t[0],o=t[1];return Object(c.jsxs)("div",{className:m.a.setting_container,children:[Object(c.jsx)("button",{type:"button",onClick:function(){o(!n)},className:m.a.setting_button,children:Object(c.jsx)("img",{src:p,alt:"Settings button",className:n?m.a.rotate:null})}),n?Object(c.jsx)(h,{className:n?m.a.fadeInLeft:m.a.fadeOutLeft}):null]})};var v=function(e){var t=e.className,n=Object(s.useContext)(d),o=n.setting,r=n.setSetting;return Object(c.jsx)("button",{type:"button",onClick:function(){r(Object(l.a)({},o))},className:t,children:"find another joke"})};var x=function(e){var t=e.src,n=e.className,s=e.width;return Object(c.jsx)("img",{src:t,alt:"Robot",className:n,width:s})};var y=n.p+"static/media/robot-searching.049cc040.gif",S=n.p+"static/media/robot-listening.bd138e28.gif",C=n.p+"static/media/robot-not-found.6feefce6.svg",N=n.p+"static/media/robot-talking.9719b4bf.gif";function w(e){return function(e){switch(e){case"default":return b;case"search":return y;default:return S;case"error":return C;case"talk":return N}}(e)}function U(){var e=Object(s.useContext)(d).setting,t=Object(s.useContext)(d).setImgUrl,n=Object(s.useState)(""),o=Object(u.a)(n,2),r=o[0],a=o[1];return Object(s.useEffect)((function(){t(w("search")),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.lang,n=e.category,s="https://v2.jokeapi.dev/joke/".concat(n,"?lang=").concat(t);return fetch(s).then((function(e){return e.json()})).then((function(e){var t=e.type,n=e.error;return n?{error:n,message:e.message}:"twopart"===t?{setup:e.setup,delivery:e.delivery,type:t,error:n}:{joke:e.joke,type:t,error:n}}))}({lang:e.lang,category:e.category}).then((function(e){a(e),e.error?t(w("error")):t(w("default"))}))}),[e,t]),r.error?{jokes:r.message}:void 0!==r&&"twopart"===r.type?{jokes:"".concat(r.setup,". ").concat(r.delivery)}:void 0!==r&&"single"===r.type?{jokes:r.joke}:{jokes:""}}var P=n(4),G=n.n(P),F=n(9),I=n.n(F),D=window.speechSynthesis,E=function(e){switch(e){case"en":return"Microsoft George - English (United Kingdom)";case"es":return"Google espa\xf1ol";case"de":return"Google Deutsch";case"fr":return"Google fran\xe7ais";case"pt":return"Google portugu\xeas do Brasil";default:console.log("Lenguaje no encontrado")}};var M=function(e){var t=e.joke,n=e.langVal,o=Object(s.useState)(t),r=Object(u.a)(o,2),a=r[0],i=r[1],j=Object(s.useState)(E(n)),l=Object(u.a)(j,2),b=l[0],g=l[1],f=Object(s.useContext)(d).setImgUrl,_=D.getVoices().sort((function(e,t){var n=e.name.toUpperCase(),s=t.name.toUpperCase();return n<s?-1:n===s?0:1}));return Object(s.useEffect)((function(){i(t)}),[t]),Object(s.useEffect)((function(){g(E(n))}),[n]),Object(c.jsx)("span",{className:I.a.speak_button,children:Object(c.jsx)("button",{onClick:function(){f(w("talk"));var e=new SpeechSynthesisUtterance(a);e.onend=function(e){f(w("default")),window.speechSynthesis.cancel()},e.onerror=function(e){console.error("SpeechSynthesisUtterance.onerror")};for(var t=0;t<_.length;t++)if(_[t].name===b){console.log("encontrado"),e.voice=_[t];break}null===e.voice&&"en"!==n&&alert("This browser only supports English speaker. Please try in another browser, ex: Google Chrome"),D.speak(e)},children:"\ud83d\udce3"})})};function L(){var e=U().jokes,t=Object(s.useContext)(d).setting,n=Object(s.useContext)(d).imgUrl;return Object(c.jsxs)("section",{tabIndex:"0",className:G.a.joke_container,children:[Object(c.jsx)(k,{}),Object(c.jsx)(x,{src:n,className:G.a.robot_img}),Object(c.jsx)(i,{joke:e,className:G.a.joke_text}),Object(c.jsxs)("div",{className:G.a.joke_buttons,children:[Object(c.jsx)(v,{className:G.a.joke_button_joke}),""!==e?Object(c.jsx)(M,{joke:e,langVal:t.lang}):null]})]})}var J=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(f,{children:Object(c.jsx)(L,{})})})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,s=t.getFID,o=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),s(e),o(e),r(e),a(e)}))};a.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(J,{})}),document.getElementById("root")),V()},3:function(e,t,n){e.exports={setting_container:"settings_setting_container__X-8Qz",setting_button:"settings_setting_button__347TF",rotate:"settings_rotate__29uSB",rotating:"settings_rotating__1_Kt0"}},4:function(e,t,n){e.exports={joke_container:"styles_joke_container__N5JGN",robot_img:"styles_robot_img__3IwvM",MoveUpDown:"styles_MoveUpDown__1xiZD",joke_text:"styles_joke_text__1PWJQ",joke_buttons:"styles_joke_buttons__28e2f",joke_button_joke:"styles_joke_button_joke__1LWrG"}},9:function(e,t,n){e.exports={speak_button:"speaker_speak_button__39JVw"}}},[[16,1,2]]]);
//# sourceMappingURL=main.c35794a7.chunk.js.map